/** 
 * 
 */
package model

import io.sarl.core.DefaultContextInteractions
import io.sarl.core.Initialize
import io.sarl.core.Lifecycle
import io.sarl.core.Logging
import java.util.Random
import java.util.ArrayList
import skillscapacities.MoveCapacity
import skillscapacities.MoveSkill

/** 
 * @author morzzan
 * 
 */
agent UAVAgent {
	var rd = new Random
	val percepts = new  ArrayList<PerceptEvent>
	uses Logging, DefaultContextInteractions, Lifecycle, MoveCapacity
	var nb : int
	var base : Base
	on Initialize {
		nb = occurrence.parameters.get(0) as Integer
		base = occurrence.parameters.get(1) as Base
		setSkill(new MoveSkill(percepts),MoveCapacity)
		loggingName = " Drone " + nb.toString
		info("The UAV was started.")
		emit(new RegisterEvent(nb,typeof(UAVAgent)))
	}
	on PerceptEvent {
		percepts.add(occurrence)
		moveRandomly
	}
	on EndEvent{	
			killMe
	} 
	on HelpMe{
		emit(new SurvivorSaved(occurrence.source.UUID))
	}
}

