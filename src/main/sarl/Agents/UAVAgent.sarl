/** 
 * 
 */
package model

import io.sarl.core.DefaultContextInteractions
import io.sarl.core.Initialize
import io.sarl.core.Lifecycle
import io.sarl.core.Logging
import java.util.Random
import java.util.ArrayList
import skillscapacities.MoveCapacity
import skillscapacities.MoveSkill

/** 
 * @author morzzan
 * 
 */
agent UAVAgent {
	var rd = new Random
	val percepts = new  ArrayList<PerceptEvent>
	uses Logging, DefaultContextInteractions, Lifecycle, MoveCapacity
	var nb : int
	on Initialize {
		nb = occurrence.parameters.get(0) as Integer
		setSkill(new MoveSkill(percepts),MoveCapacity)
		loggingName = " Drone " + nb.toString
		info("The UAV was started.")
		emit(new RegisterEvent(nb))
	}
	on PerceptEvent {
		//info("Env told me I'm at " + occurrence.pos+ " and i see "+ occurrence.around.size + " drones")
		percepts.add(occurrence)
		moveRandomly
	}
	on EndEvent{	
			killMe
	} 
}

